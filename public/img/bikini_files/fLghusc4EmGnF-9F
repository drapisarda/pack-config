"use strict";(()=>{var f={uuidv4:M,extractLanguage:B};function M(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}function B(){return document.documentElement.lang||document.documentElement.getAttribute("xml:lang")||R()||k()||"en"}function R(){let e=Array.from(document.getElementsByTagName("meta")).find(s=>s.httpEquiv.toLowerCase()==="content-language");return e?e.content:null}function k(){let e=Array.from(document.getElementsByTagName("link")).find(s=>s.rel.toLowerCase()==="alternate"&&s.hreflang&&s.href===window.location.href);return e?e.hreflang:null}var E={hasShieldChildNode:v,addShieldChildNode:q,isShieldNode:O,insertShieldStylesheet:Y},C="data:image/svg+xml;utf8,",H=C+encodeURIComponent('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 6.92308C4 6.75694 4.09784 6.60639 4.24966 6.53891L12 3.09432l7.7503 3.44459C19.9022 6.60639 20 6.75694 20 6.92308V8.42402c0 5.37058-3.1294 10.24268-8 12.48048-4.87063-2.2378-8-7.1099-8-12.48048V6.92308z" stroke="#27be56" stroke-width="2"/><path fill-rule="evenodd" clip-rule="evenodd" d="M16.209 9.17802C16.4639 9.42255 16.4723 9.82741 16.2278 10.0823l-4.6014 4.7968C11.3034 15.2158 10.7654 15.2167 10.4413 14.881L8.17941 12.5376C7.93409 12.2835 7.94125 11.8786 8.19539 11.6333S8.85443 11.3951 9.09974 11.6493L11.032 13.651l4.2727-4.45417C15.5492 8.94192 15.9541 8.9335 16.209 9.17802z" fill="#27be56" stroke="#27be56" stroke-width=".5" stroke-linecap="round"/></svg>'),P=C+encodeURIComponent('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.65027 5.75821C3.24878 6.02049 3 6.47054 3 6.9601V8.53672C3 14.3685 6.42567 19.6562 11.748 22.0398 11.9083 22.1116 12.0917 22.1116 12.252 22.0398c1.9539-.8751 3.6522-2.1415 5.0192-3.6826l-1.4686-1.3584C14.7491 18.1942 13.4659 19.2002 12 19.9445 7.72138 17.772 5 13.3705 5 8.53672V7.32565l.23235-.10406L3.65027 5.75821zM17.5271 14.4971C18.4763 12.6946 19 10.6572 19 8.53672V7.32565L12 4.19068 8.21659 5.88509 6.62031 4.40857 11.5913 2.18232c.26-.11646.5574-.11646.817399999999999.0l7.7424 3.46744C20.6676 5.88106 21 6.39419 21 6.9601V8.53672C21 11.1739 20.2995 13.6998 19.0398 15.8963l-1.5127-1.3992z" fill="#f64f64"/><rect width="2" height="26" rx="1" transform="matrix(0.633177 -0.774007 0.736688 0.676232 1 3.55469)" fill="#f64f64"/></svg>'),D=C+encodeURIComponent('<svg width="720" height="158" viewBox="0 0 720 158" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>nord-logo-horizontal</title><desc>Created with Sketch.</desc><defs/><g id="nord-logo-horizontal" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="global/logos/horizontal/nordvpn"><path d="M709.840683 65.915493c-5.61533099999997.0-10.122373-4.5357235-10.122373-10.1408451.0-5.5682459 4.50704200000007-10.1408451 10.122373-10.1408451C715.456015 45.6338028 720 50.206402 720 55.7746479 720 61.3797695 715.456015 65.915493 709.840683 65.915493zm0-18.4379002C705.296698 47.4775928 701.639344 51.1651729 701.639344 55.7746479 701.639344 60.3841229 705.296698 64.0717029 709.840683 64.0717029 714.347726 64.0717029 718.078966 60.3841229 718.078966 55.7746479c0-4.609475-3.73124000000007-8.2970551-8.23828300000002-8.2970551zM708.326022 57.3971831v4.1669654H705.924729V49.9851472H710.505657C712.759178 49.9851472 714.643269 51.1651729 714.643269 53.6358515c0 1.7331626-.923574000000031 2.8025608-2.21657800000003 3.318822L714.827984 61.5641485H712.205033L710.099284 57.3971831H708.326022zM712.205033 53.7096031C712.205033 52.5664533 711.244516 52.2714469 710.320942 52.2714469H708.326022v2.8763124H710.357885C711.244516 55.1477593 712.205033 54.7790013 712.205033 53.7096031z" id="Â®" fill="#373b42"/><path d="M300.067602 121.690141l-34.68169-52.0225354V121.690141H249.971827V46.2574648h17.822535l32.75493 49.2287324V46.2574648h15.414084V121.690141H300.067602zm25.078313-25.6259156c0-15.3177465 12.620282-26.9746479 28.227043-26.9746479 15.510422.0 27.938028 11.3678873 27.938028 26.6856338.0 15.5104227-12.620282 27.0709857-28.130704 27.0709857-15.6067609999999.0-28.034367-11.271549-28.034367-26.7819716zM340.56 95.8715493c0 7.80338070000001 5.683944 13.1983097 12.71662 13.1983097C360.309296 109.069859 365.896901 103.67493 365.896901 95.8715493c0-7.7070423-5.683943-13.1019718-12.716619-13.1019718C346.147606 82.7695775 340.56 88.164507 340.56 95.8715493zm77.597731-25.6259155V84.9853521C416.134632 84.6 414.015196 84.6 413.34083 84.6 406.115477 84.6 401.1059 89.6095775 401.1059 99.1470423V121.690141H386.366182V70.2456338H400.62421V77.76H400.816886C403.610689 71.8833803 408.812942 69.6676056 414.111534 69.6676056 415.26759 69.6676056 417.098013 69.9566197 418.157731 70.2456338zm43.407903 51.4445072v-6.550986H461.372958c-4.81690199999997 7.032676-12.523944 7.514366-15.992113 7.514366-14.932394.0-24.469859-12.909296-24.469859-26.7819717.0-13.0056338 9.92281700000001-26.5892958 24.662535-26.5892958 2.98647899999997.0 10.115493.578028200000006 15.414085 6.84H461.180282V43.2709859h14.932394V121.690141H461.565634zm0-25.8185917c0-7.7070423-5.683944-13.0056338-12.71662-13.0056338-7.03267600000004.0-12.71662 5.2985915-12.71662 13.0056338.0 7.80338070000001 5.683944 13.1983097 12.71662 13.1983097C455.88169 109.069859 461.565634 103.67493 461.565634 95.8715493zm46.485634 25.8185917-27.263662-75.4326762h16.859155L517.20338 103.578592l19.652958-57.3211272H553.426479l-27.36 75.4326762H508.051268zM614.844507 70.4383099c0 16.6664788-11.753239 24.6625352-27.552676 24.6625352H575.442254V121.690141H559.835493V46.2574648h28.034366c15.1250709999999.0 26.974648 8.1887324 26.974648 24.1808451zM599.141408 70.823662c0-7.3216902-6.16563299999996-9.8264789-12.620281-9.8264789H575.442254V80.5538028h11.175211C592.783099 80.5538028 599.141408 77.856338 599.141408 70.823662zm73.652958 50.866479-34.68169-52.0225354V121.690141H622.698592V46.2574648h17.822535L673.276056 95.4861972V46.2574648h15.414085V121.690141H672.794366z" id="NordVPN" fill="#373b42"/><path d="M18.8134777 157.183099C6.97925691 140.855593.0 120.766132.0 99.0432916.0 44.3431921 44.2539653.0 98.8439981.0 153.434031.0 197.687996 44.3431921 197.687996 99.0432916c0 21.7226994-6.97916599999999 41.8120394-18.813246 58.1394884L131.400097 79.9339131 126.815565 87.6900449l4.651372 21.5711031L98.8439981 53.3310032 78.663402 87.4726248 83.361656 109.261148 66.2617567 79.9781408 18.8134777 157.183099z" id="logomark" fill="#4687ff"/></g></g></svg>');function O(t){return t.nodeName.toUpperCase()==="IMG"&&t.name==="tp-shield"}function U(t,e){t.style.position="absolute",t.style.zIndex="10000",t.style.display="flex",t.style.width="401px",t.style.padding="16px",t.style.flexDirection="column",t.style.alignItems="flex-start",t.style.gap="16px",t.style.borderRadius="7px",t.style.background="#fff",t.style.boxShadow="4px 8px 8px 0px rgba(27, 27, 27, 0.12)",e?t.style.border="1px solid var(--system-success-light, #27be56)":t.style.border="1px solid var(--system-attention-light, #f64f64)"}function F(){return document.documentElement.clientWidth||document.body.clientWidth||document.documentElement.offsetWidth||document.body.offsetWidth||window.innerWidth}function W(){return document.documentElement.clientHeight||document.body.clientHeight||document.documentElement.offsetHeight||document.body.offsetHeight||window.innerHeight}function V(t,e){let a=F()-400-35,L=W(),m=document.getElementById(e),N="tp-ib-"+e,o=document.createElement("div"),r=m.getAttribute("data-safe")==="true";o.setAttribute("id",N),U(o,r);let d=document.createElement("div");d.classList.add("head");let l=document.createElement("div");l.innerText=r?'Threats not found':'Unsafe',l.classList.add("trust-level"),l.classList.add(r?"trusted":"untrusted"),d.appendChild(l);let c=document.createElement("img");c.setAttribute("src",D),c.style.height="20px",c.style.width="auto",d.appendChild(c),o.appendChild(d);let g=document.createElement("div");g.classList.add("title"),g.innerText=r?'This website looks safe to visit':'Warning: This website contains security threats',o.appendChild(g);let S=JSON.parse(m.getAttribute("data-scan-result")),y=document.createElement("div");y.classList.add("body"),y.innerText=S.explanation,o.appendChild(y),r||o.appendChild(j(S.categories)),document.body.appendChild(o);let u=m.getBoundingClientRect(),T=u.left-400/2,A=Math.min(Math.max(5,T),a);o.style.left=`${A}px`;let w=L-o.offsetHeight-16;if(u.bottom<w){var x=u.bottom+window.scrollY+16;o.style.top=`${x}px`}else{var x=u.top+window.scrollY-o.offsetHeight-16;o.style.top=`${x}px`}return o}function j(t){let e=document.createElement("div");if(e.classList.add("unsafe-categories-list"),Array.isArray(t))for(let s of t)b(e,s);else b(e,t||"unknown");return e}function b(t,e){let s=document.createElement("span");s.classList.add("category"),s.innerText=e,t.appendChild(s)}function J(t){t.stopPropagation();let e=V({},t.target.id)}function _(t){t.stopPropagation();let e="tp-ib-"+t.target.id,s=document.getElementById(e);s!=null&&s.parentNode!=null&&s.parentNode.removeChild(s)}function z(){return{result:"Safe",explanation:'We\'ve checked for potential threats but didn\'t find any.'}}function G(t){return{result:"Unsafe",explanation:'Avoid visiting this website - we\'ve detected the following threats:',categories:t}}function q(t,e){if(v(t.shieldParent))return;let s=e.IsSafe?z():G(e.Tags);var n=document.createElement("img");n.setAttribute("id",f.uuidv4()),n.setAttribute("data-url",e.URL),n.setAttribute("name","tp-shield"),n.setAttribute("data-safe",e.IsSafe),n.setAttribute("src",e.IsSafe?H:P),n.setAttribute("data-scan-result",JSON.stringify(s)),n.style.width="20px",n.style.height="20px",n.style.marginLeft="5px",n.style.marginBottom="-2px",n.addEventListener("mouseover",i=>{J(i)}),n.addEventListener("mouseout",i=>{_(i)}),t.shieldParent.appendChild(n)}function v(t){if(t.hasChildNodes()){for(let e of t.childNodes)if(e.nodeType===1&&e.getAttribute("name")==="tp-shield")return!0}return!1}function Y(e){var e=document.createElement("style");e.innerHTML='.head{width:100%;display:flex;flex-direction:row;justify-content:space-between}.mal-cat{border-radius:8px;background-color:#a50a0abf;margin-inline-end:6px;padding:4px}.trust-level{display:flex;height:20px;padding:0 8px;justify-content:center;align-items:center;gap:10px;border-radius:4px;color:var(--text-on-accent-primary-light, #fff);text-align:center;font-family:Segoe UI;font-size:12px;font-style:normal;font-weight:400;line-height:20px}.trusted{background:var(--system-success-light, #27be56)}.untrusted{background:var(--system-attention-light, #f64f64)}.title{align-self:stretch;color:var(--text-primary-light, #1b1b1b);font-feature-settings:\"init\" on,\"fina\" on;font-family:Segoe UI;font-size:14px;font-style:normal;font-weight:600;line-height:20px}.body{align-self:stretch;color:var(--text-secondary-light, rgba(27, 27, 27, .6));font-feature-settings:\"rclt\" off;font-family:Segoe UI;font-size:14px;font-style:normal;font-weight:400;line-height:20px}.unsafe-categories-list{align-self:stretch;background-color:#f64f641a;color:var(--text-primary-light, #000000);border-radius:4px;top:50%;font-family:Segoe UI;font-size:12px;font-style:normal;font-weight:400;line-height:32px;list-style:none;display:flex;align-items:center}.unsafe-categories-list>.category{position:relative;display:flex;align-items:center;margin:0 12px}.unsafe-categories-list>.category:before{content:\"\";display:inline-block;width:5px;height:5px;margin-right:12px;background-color:#f64f64;border-radius:50%}',document.getElementsByTagName("head")[0].appendChild(e)}var $=["SCRIPT","META","LINK","STYLE","NOSCRIPT","TEMPLATE"],I={DOM:1,MUTATION:2},h=class{constructor(e,s){this.sessionURL=e,this.sessionRefreshDelayInMills=s,this.sessionRefreshTLL(),this.observer=new MutationObserver(this.callbackPrettify)}sessionRefreshTLL(){setInterval(()=>{console.log("Refreshing session: ",this.sessionRefreshDelayInMills),fetch(this.sessionURL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({RefreshTTL:!0})}).then(e=>e.json()).then(e=>{console.log("Refreshing session response: ",e)}).catch(e=>{console.error("Error:",e)})},this.sessionRefreshDelayInMills)}Observe(){let e=this.getDOMElementIdentifiers();this.observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),this.fetchAndApplyCosmeticRules(I.DOM,e.ids,e.classes)}callbackPrettify=e=>{let s=this.getMutatedElementIdentifiers(e);this.fetchAndApplyCosmeticRules(I.MUTATION,s.ids,s.classes)};isCosmeticNode(e){return!$.includes(e.nodeName.toUpperCase())}getMutatedElementIdentifiers(e){let s=[],n=[];for(let i of e)i.type==="childList"&&i.addedNodes.length>0?this.getIdentifiersFromAddedNodes(i,s,n):i.type==="attributes"&&this.getIdentifiersFromAttributeChange(i,n);return{ids:[...new Set(s)],classes:[...new Set(n)]}}getIdentifiersFromAddedNodes(e,s,n){for(let i of e.addedNodes)this.isCosmeticNode(i)&&!E.isShieldNode(i)&&(i.id&&s.push(i.id),this.getClassNamesFromNode(i,n))}getIdentifiersFromAttributeChange(e,s){this.hasCosmeticNodeVisibilityChanged(e)&&this.getClassNamesFromNode(e.target,s)}getClassNamesFromNode(e,s){e&&typeof e.className=="string"&&s.push(...e.className.split(/\s+/))}hasCosmeticNodeVisibilityChanged(e){return e.target&&this.isCosmeticNode(e.target)&&e.oldValue&&(e.oldValue.includes("display:")||e.oldValue.includes("visibility:"))}getDOMElementIdentifiers(){let e=[],s=[];return document.querySelectorAll("*").forEach(n=>{n.id&&typeof n.id=="string"&&e.push(n.id.trim()),this.getClassNamesFromNode(n,s)}),{ids:[...new Set(e)],classes:[...new Set(s)]}}prepareSelectorsForQuery(e){return e.filter(n=>!n.includes(":-abp-")).join(", ")}cosmeticHideElementsWithSelectors(e){if(e==null||e.length==0)return"";let s=this.prepareSelectorsForQuery(e);try{document.querySelectorAll(s).forEach(i=>{i.style.setProperty("display","none","important")})}catch(n){console.log(n)}}async fetchAndApplyCosmeticRules(e,s,n){if(s.length==0&&n.length==0)return;let i={rulesType:e,url:window.location.href,lang:f.extractLanguage(),ids:s,classes:n};try{let a=await(await fetch(this.sessionURL,{method:"POST",body:JSON.stringify({DOMIdentifiers:i}),headers:{"Content-type":"application/json; charset=UTF-8"}})).json();if(a==null)return;this.cosmeticHideElementsWithSelectors(a.selectors),this.cosmeticHideElementsWithSelectors(a.hide_selectors)}catch(p){console.error("Prettify fetch failed: ",p)}}};document.addEventListener("DOMContentLoaded",function(){window.JCosmeticSession=new h("/5lN5CX_1w68fBnhL","270000"),window.JCosmeticSession.Observe()});})();
